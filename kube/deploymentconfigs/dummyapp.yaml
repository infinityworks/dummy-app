apiVersion: "v1"
kind: "DeploymentConfig"
metadata:
  name: "dummy-app"
  labels:
      app: "dummy-app"
spec:
  template:
    spec:
      containers:
        - image: "tapim-build/dummy-app:v1"
          name: "dummy-app"
    metadata:
      labels:
        deploymentconfig: "dummy-app"
  containers:
    name: dummy-app
    image: "tapim-build/dummy-app"
    ports:
      - containerPort: 3000
        protocol: TCP
  replicas: 1
  triggers:
      - type: "ConfigChange"
      - imageChangeParams:
          automatic: true
          containerNames:
            - "dummy-app"
          from:
            kind: "ImageStreamTag"
            name: "dummy-app:latest"
        type: "ImageChange"
  strategy:
    type: "Rolling"
